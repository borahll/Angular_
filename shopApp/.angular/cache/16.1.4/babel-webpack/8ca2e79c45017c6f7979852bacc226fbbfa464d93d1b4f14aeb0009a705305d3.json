{"ast":null,"code":"import * as i0 from \"@angular/core\";\nexport class Cart {\n  constructor() {\n    this.items = [];\n    this.itemCount = 0;\n    this.total = 0;\n  }\n  addItem(product, count = 1) {\n    let item = this.items.find(p => p.product.id == product.id);\n    if (item != undefined) {\n      item.quantity += count;\n    } else {\n      this.items.push(new CartItem(product, count));\n      this.calculate();\n    }\n  }\n  calculate() {\n    this.itemCount = 0;\n    this.total = 0;\n    this.items.forEach(item => {\n      this.itemCount += item.quantity;\n      if (item.product.price) {\n        this.total += parseInt(item.product.price) * item.quantity;\n      }\n    });\n  }\n  clear() {\n    this.itemCount = 0;\n    this.items = [];\n    this.total = 0;\n  }\n  removeItem(productId) {\n    let index = this.items.findIndex(p => p.product.id == productId);\n    this.items.splice(index, 1);\n    this.calculate();\n  }\n  updateQuantity(product, quantity) {\n    this.items.find(p => p.product.id == product.id)?.quantity ? quantity : undefined;\n    this.calculate();\n  }\n}\nCart.ɵfac = function Cart_Factory(t) {\n  return new (t || Cart)();\n};\nCart.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: Cart,\n  factory: Cart.ɵfac\n});\nclass CartItem {\n  constructor(product, quantity) {\n    this.product = product;\n    this.quantity = quantity;\n  }\n}","map":{"version":3,"names":["Cart","constructor","items","itemCount","total","addItem","product","count","item","find","p","id","undefined","quantity","push","CartItem","calculate","forEach","price","parseInt","clear","removeItem","productId","index","findIndex","splice","updateQuantity","factory","ɵfac"],"sources":["/Users/borahaliloglu/Angular_Exercise/shopApp/src/app/model/cart.model.ts"],"sourcesContent":["import { Injectable } from \"@angular/core\";\nimport { Product } from \"./product.model\";\n\n@Injectable()\nexport class Cart{\n    public items: CartItem[] = [];\n    public itemCount: number = 0;\n    public total: number = 0;\n    addItem(product: Product, count: number = 1){\n        let item = this.items.find(p => p.product.id == product.id);\n        if(item != undefined){\n            item.quantity += count;\n        }\n        else{\n            this.items.push(new CartItem(product, count));\n            this.calculate();\n        }\n    }\n    calculate(){\n        this.itemCount = 0;\n        this.total = 0;\n        this.items.forEach(item =>{\n            this.itemCount += item.quantity;\n            if(item.product.price){\n                this.total += parseInt(item.product.price)*item.quantity;\n            }\n        })\n    }\n    clear(){\n        this.itemCount = 0;\n        this.items = [];\n        this.total = 0;\n    }\n    removeItem(productId: number){\n        let index = this.items.findIndex(p => p.product.id == productId);\n        this.items.splice(index, 1);\n        this.calculate();\n    }\n    updateQuantity(product: Product, quantity: HTMLInputElement){\n        this.items.find(p => p.product.id == product.id)?.quantity? quantity: undefined;\n        this.calculate();\n    }\n}\nclass CartItem{\n     constructor(public product: Product,\n        public quantity: number){\n\n     }\n}"],"mappings":";AAIA,OAAM,MAAOA,IAAI;EADjBC,YAAA;IAEW,KAAAC,KAAK,GAAe,EAAE;IACtB,KAAAC,SAAS,GAAW,CAAC;IACrB,KAAAC,KAAK,GAAW,CAAC;;EACxBC,OAAOA,CAACC,OAAgB,EAAEC,KAAA,GAAgB,CAAC;IACvC,IAAIC,IAAI,GAAG,IAAI,CAACN,KAAK,CAACO,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACJ,OAAO,CAACK,EAAE,IAAIL,OAAO,CAACK,EAAE,CAAC;IAC3D,IAAGH,IAAI,IAAII,SAAS,EAAC;MACjBJ,IAAI,CAACK,QAAQ,IAAIN,KAAK;KACzB,MACG;MACA,IAAI,CAACL,KAAK,CAACY,IAAI,CAAC,IAAIC,QAAQ,CAACT,OAAO,EAAEC,KAAK,CAAC,CAAC;MAC7C,IAAI,CAACS,SAAS,EAAE;;EAExB;EACAA,SAASA,CAAA;IACL,IAAI,CAACb,SAAS,GAAG,CAAC;IAClB,IAAI,CAACC,KAAK,GAAG,CAAC;IACd,IAAI,CAACF,KAAK,CAACe,OAAO,CAACT,IAAI,IAAG;MACtB,IAAI,CAACL,SAAS,IAAIK,IAAI,CAACK,QAAQ;MAC/B,IAAGL,IAAI,CAACF,OAAO,CAACY,KAAK,EAAC;QAClB,IAAI,CAACd,KAAK,IAAIe,QAAQ,CAACX,IAAI,CAACF,OAAO,CAACY,KAAK,CAAC,GAACV,IAAI,CAACK,QAAQ;;IAEhE,CAAC,CAAC;EACN;EACAO,KAAKA,CAAA;IACD,IAAI,CAACjB,SAAS,GAAG,CAAC;IAClB,IAAI,CAACD,KAAK,GAAG,EAAE;IACf,IAAI,CAACE,KAAK,GAAG,CAAC;EAClB;EACAiB,UAAUA,CAACC,SAAiB;IACxB,IAAIC,KAAK,GAAG,IAAI,CAACrB,KAAK,CAACsB,SAAS,CAACd,CAAC,IAAIA,CAAC,CAACJ,OAAO,CAACK,EAAE,IAAIW,SAAS,CAAC;IAChE,IAAI,CAACpB,KAAK,CAACuB,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAC3B,IAAI,CAACP,SAAS,EAAE;EACpB;EACAU,cAAcA,CAACpB,OAAgB,EAAEO,QAA0B;IACvD,IAAI,CAACX,KAAK,CAACO,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACJ,OAAO,CAACK,EAAE,IAAIL,OAAO,CAACK,EAAE,CAAC,EAAEE,QAAQ,GAAEA,QAAQ,GAAED,SAAS;IAC/E,IAAI,CAACI,SAAS,EAAE;EACpB;;AArCShB,IAAI,C;mBAAJA,IAAI;AAAA;AAAJA,IAAI,C;SAAJA,IAAI;EAAA2B,OAAA,EAAJ3B,IAAI,CAAA4B;AAAA;AAuCjB,MAAMb,QAAQ;EACTd,YAAmBK,OAAgB,EACzBO,QAAgB;IADP,KAAAP,OAAO,GAAPA,OAAO;IAChB,KAAAO,QAAQ,GAARA,QAAQ;EAElB"},"metadata":{},"sourceType":"module","externalDependencies":[]}